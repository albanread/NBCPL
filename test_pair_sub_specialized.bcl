// Test for specialized PAIR subtraction encoder (sub_vector_2s)
// This tests the new simplified encoder for PAIR - PAIR operations

LET start() BE {
    writef("Testing specialized PAIR subtraction encoder*N")

    // Test 1: Basic PAIR subtraction
    LET p1 = PAIR(10, 1)
    LET p2 = PAIR(2, 2)
    LET p3 = p1 - p2

    writef("Test 1: PAIR(10,1) - PAIR(2,2) = PAIR(%D,%D)*N", p3.|0|, p3.|1|)
    // Expected: PAIR(8, -1)

    // Test 2: Subtraction with negative results
    LET p4 = PAIR(5, 3)
    LET p5 = PAIR(8, 7)
    LET p6 = p4 - p5

    writef("Test 2: PAIR(5,3) - PAIR(8,7) = PAIR(%D,%D)*N", p6.|0|, p6.|1|)
    // Expected: PAIR(-3, -4)

    // Test 3: Subtraction with zero
    LET p7 = PAIR(100, 50)
    LET p8 = PAIR(0, 0)
    LET p9 = p7 - p8

    writef("Test 3: PAIR(100,50) - PAIR(0,0) = PAIR(%D,%D)*N", p9.|0|, p9.|1|)
    // Expected: PAIR(100, 50)

    // Test 4: Subtract from zero
    LET p10 = PAIR(0, 0)
    LET p11 = PAIR(25, 15)
    LET p12 = p10 - p11

    writef("Test 4: PAIR(0,0) - PAIR(25,15) = PAIR(%D,%D)*N", p12.|0|, p12.|1|)
    // Expected: PAIR(-25, -15)

    // Test 5: Chain of subtractions
    LET p13 = PAIR(20, 30)
    LET p14 = PAIR(5, 10)
    LET p15 = PAIR(3, 7)
    LET p16 = p13 - p14 - p15

    writef("Test 5: PAIR(20,30) - PAIR(5,10) - PAIR(3,7) = PAIR(%D,%D)*N", p16.|0|, p16.|1|)
    // Expected: PAIR(12, 13)

    // Test 6: Large numbers
    LET p17 = PAIR(1000000, 2000000)
    LET p18 = PAIR(500000, 750000)
    LET p19 = p17 - p18

    writef("Test 6: PAIR(1000000,2000000) - PAIR(500000,750000) = PAIR(%D,%D)*N", p19.|0|, p19.|1|)
    // Expected: PAIR(500000, 1250000)

    writef("*NSpecialized PAIR subtraction tests completed*N")
}
