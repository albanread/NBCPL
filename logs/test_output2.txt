[DEBUG EARLY] Compiler starting with argc=3
SDL2 runtime functions registered successfully.
[DEBUG] LocalOptimizationPass: enable_opt=1, about to run CSE pass
[CSE DEBUG] Starting LocalOptimizationPass::run() on AST
[CSE DEBUG] Processing routine: START
[CSE DEBUG] ANALYSIS: Counting subexpressions in routine START
[CSE DEBUG] count_subexpressions: ENTRY
[CSE DEBUG] count_subexpressions: examining node type=62
[CSE DEBUG] Processing BlockStatement with 6 statements
[CSE DEBUG] count_subexpressions: ENTRY
[CSE DEBUG] count_subexpressions: examining node type=44
[CSE DEBUG] Processing RoutineCallStatement with 1 arguments
[CSE DEBUG]   Argument 0 type: 12
[CSE DEBUG] count_subexpressions: ENTRY
[CSE DEBUG] count_subexpressions: examining node type=12
[CSE DEBUG] Found expression: type=12 key='(STR "Hello World")' (StringLit)
[CSE DEBUG] COUNTED expression: type=12 key='(STR "Hello World")' count=1
[CSE DEBUG] count_subexpressions: EXIT
[CSE DEBUG] count_subexpressions: EXIT
[CSE DEBUG] count_subexpressions: ENTRY
[CSE DEBUG] count_subexpressions: examining node type=44
[CSE DEBUG] Processing RoutineCallStatement with 1 arguments
[CSE DEBUG]   Argument 0 type: 12
[CSE DEBUG] count_subexpressions: ENTRY
[CSE DEBUG] count_subexpressions: examining node type=12
[CSE DEBUG] Found expression: type=12 key='(STR "Hello World")' (StringLit)
[CSE DEBUG] COUNTED expression: type=12 key='(STR "Hello World")' count=2
[CSE DEBUG] count_subexpressions: EXIT
[CSE DEBUG] count_subexpressions: EXIT
[CSE DEBUG] count_subexpressions: ENTRY
[CSE DEBUG] count_subexpressions: examining node type=44
[CSE DEBUG] Processing RoutineCallStatement with 1 arguments
[CSE DEBUG]   Argument 0 type: 12
[CSE DEBUG] count_subexpressions: ENTRY
[CSE DEBUG] count_subexpressions: examining node type=12
[CSE DEBUG] Found expression: type=12 key='(STR "Hello World")' (StringLit)
[CSE DEBUG] COUNTED expression: type=12 key='(STR "Hello World")' count=3
[CSE DEBUG] count_subexpressions: EXIT
[CSE DEBUG] count_subexpressions: EXIT
[CSE DEBUG] count_subexpressions: ENTRY
[CSE DEBUG] count_subexpressions: examining node type=44
[CSE DEBUG] Processing RoutineCallStatement with 1 arguments
[CSE DEBUG]   Argument 0 type: 12
[CSE DEBUG] count_subexpressions: ENTRY
[CSE DEBUG] count_subexpressions: examining node type=12
[CSE DEBUG] Found expression: type=12 key='(STR "Different String")' (StringLit)
[CSE DEBUG] COUNTED expression: type=12 key='(STR "Different String")' count=1
[CSE DEBUG] count_subexpressions: EXIT
[CSE DEBUG] count_subexpressions: EXIT
[CSE DEBUG] count_subexpressions: ENTRY
[CSE DEBUG] count_subexpressions: examining node type=44
[CSE DEBUG] Processing RoutineCallStatement with 1 arguments
[CSE DEBUG]   Argument 0 type: 12
[CSE DEBUG] count_subexpressions: ENTRY
[CSE DEBUG] count_subexpressions: examining node type=12
[CSE DEBUG] Found expression: type=12 key='(STR "Different String")' (StringLit)
[CSE DEBUG] COUNTED expression: type=12 key='(STR "Different String")' count=2
[CSE DEBUG] count_subexpressions: EXIT
[CSE DEBUG] count_subexpressions: EXIT
[CSE DEBUG] count_subexpressions: ENTRY
[CSE DEBUG] count_subexpressions: examining node type=44
[CSE DEBUG] Processing RoutineCallStatement with 1 arguments
[CSE DEBUG]   Argument 0 type: 12
[CSE DEBUG] count_subexpressions: ENTRY
[CSE DEBUG] count_subexpressions: examining node type=12
[CSE DEBUG] Found expression: type=12 key='(STR "Hello World")' (StringLit)
[CSE DEBUG] COUNTED expression: type=12 key='(STR "Hello World")' count=4
[CSE DEBUG] count_subexpressions: EXIT
[CSE DEBUG] count_subexpressions: EXIT
[CSE DEBUG] count_subexpressions: EXIT
[CSE DEBUG] Expression counts after analysis:
[CSE DEBUG]   '(STR "Different String")' appears 2 times
[CSE DEBUG]   '(STR "Hello World")' appears 4 times
[CSE DEBUG] TRANSFORMATION: Optimizing routine START
[CSE DEBUG] TRANSFORMATION: Starting optimization of statement list with 6 statements
[CSE DEBUG] TRANSFORMATION: Processing statement 0
[CSE DEBUG] Processing expression: type=12 key='(STR "Hello World")'
[CSE DEBUG] Creating new temp var for common subexpression (count=4)
[CSE DEBUG] TRANSFORMATION: Processing statement 2
[CSE DEBUG] Processing expression: type=12 key='(STR "Hello World")'
[CSE DEBUG] Found available expression, replacing with temp var: _cse_temp_0
[CSE DEBUG] TRANSFORMATION: Processing statement 3
[CSE DEBUG] Processing expression: type=12 key='(STR "Hello World")'
[CSE DEBUG] Found available expression, replacing with temp var: _cse_temp_0
[CSE DEBUG] TRANSFORMATION: Processing statement 4
[CSE DEBUG] Processing expression: type=12 key='(STR "Different String")'
[CSE DEBUG] Creating new temp var for common subexpression (count=2)
[CSE DEBUG] TRANSFORMATION: Processing statement 6
[CSE DEBUG] Processing expression: type=12 key='(STR "Different String")'
[CSE DEBUG] Found available expression, replacing with temp var: _cse_temp_1
[CSE DEBUG] TRANSFORMATION: Processing statement 7
[CSE DEBUG] Processing expression: type=12 key='(STR "Hello World")'
[CSE DEBUG] Found available expression, replacing with temp var: _cse_temp_0
[CSE DEBUG] TRANSFORMATION: Finished optimization of statement list
[CSE DEBUG] LocalOptimizationPass::run() completed
[VeneerManager] CRITICAL: Adding essential HeapManager function: HeapManager_enter_scope
[VeneerManager] CRITICAL: Adding essential HeapManager function: HeapManager_exit_scope
Assembly written to: test_string_cse.s
