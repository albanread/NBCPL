// Test PAIR arithmetic operations using NEON SIMD instructions
// This tests the new component-wise arithmetic: PAIR(a, b) + PAIR(c, d) = PAIR(a+c, b+d)

LET START() BE {
    WRITEF("PAIR Math Test - Component-wise Arithmetic*N")

    // Test 1: PAIR Addition
    WRITEF("*NTest 1: PAIR Addition*N")
    LET p1 = PAIR(10, 20)
    LET p2 = PAIR(5, 15)
    LET sum = p1 + p2
    WRITEF("PAIR(10, 20) + PAIR(5, 15) = PAIR(%d, %d)*N", sum.first, sum.second)
    WRITEF("Expected: PAIR(15, 35)*N")

    // Test 2: PAIR Subtraction
    WRITEF("*NTest 2: PAIR Subtraction*N")
    LET p3 = PAIR(100, 50)
    LET p4 = PAIR(30, 20)
    LET diff = p3 - p4
    WRITEF("PAIR(100, 50) - PAIR(30, 20) = PAIR(%d, %d)*N", diff.first, diff.second)
    WRITEF("Expected: PAIR(70, 30)*N")

    // Test 3: PAIR Multiplication
    WRITEF("*NTest 3: PAIR Multiplication*N")
    LET p5 = PAIR(3, 7)
    LET p6 = PAIR(4, 2)
    LET prod = p5 * p6
    WRITEF("PAIR(3, 7) * PAIR(4, 2) = PAIR(%d, %d)*N", prod.first, prod.second)
    WRITEF("Expected: PAIR(12, 14)*N")

    // Test 4: Chained Operations
    WRITEF("*NTest 4: Chained PAIR Operations*N")
    LET p7 = PAIR(2, 8)
    LET p8 = PAIR(3, 4)
    LET p9 = PAIR(1, 2)
    LET result = (p7 + p8) * p9
    WRITEF("(PAIR(2, 8) + PAIR(3, 4)) * PAIR(1, 2) = PAIR(%d, %d)*N", result.first, result.second)
    WRITEF("Expected: PAIR(5, 24) [= PAIR(5, 12) * PAIR(1, 2)]*N")

    // Test 5: Zero Operations
    WRITEF("*NTest 5: Operations with Zero Components*N")
    LET p10 = PAIR(0, 5)
    LET p11 = PAIR(3, 0)
    LET zero_sum = p10 + p11
    WRITEF("PAIR(0, 5) + PAIR(3, 0) = PAIR(%d, %d)*N", zero_sum.first, zero_sum.second)
    WRITEF("Expected: PAIR(3, 5)*N")

    // Test 6: Negative Numbers
    WRITEF("*NTest 6: Negative Numbers*N")
    LET p12 = PAIR(-5, 10)
    LET p13 = PAIR(3, -2)
    LET neg_result = p12 + p13
    WRITEF("PAIR(-5, 10) + PAIR(3, -2) = PAIR(%d, %d)*N", neg_result.first, neg_result.second)
    WRITEF("Expected: PAIR(-2, 8)*N")

    // Test 7: Assignment with PAIR arithmetic
    WRITEF("*NTest 7: Assignment with PAIR Arithmetic*N")
    LET accumulator = PAIR(1, 1)
    accumulator := accumulator + PAIR(2, 3)
    accumulator := accumulator * PAIR(2, 2)
    WRITEF("Accumulator after operations: PAIR(%d, %d)*N", accumulator.first, accumulator.second)
    WRITEF("Expected: PAIR(6, 8) [= (1+2)*2, (1+3)*2]*N")

    WRITEF("*NPAIR Math Test Complete!*N")
}
