GET "libhdr"

// Test compile-time bounds checking with BoundsCheckingPass
// This should catch constant index bounds violations at compile time

LET START() BE
{
    writef("Testing compile-time bounds checking...*n")

    // Test 1: Valid vector allocation and access
    LET v1 = VEC 3  // Vector with 3 elements (indices 0-2)

    // These should all work fine (within bounds)
    v1!0 := 10
    v1!1 := 20
    v1!2 := 30  // Last valid index

    writef("Valid accesses completed*n")

    // Test 2: This should trigger a compile-time error
    // Index 3 is out of bounds for a vector of size 3
    LET bad_value = v1!3  // COMPILE-TIME ERROR: Index 3 >= size 3

    writef("ERROR: This should not compile!*n")
}
